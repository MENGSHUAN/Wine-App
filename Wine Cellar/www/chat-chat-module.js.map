{"version":3,"sources":["./src/app/chat/chat.module.ts","./src/app/chat/chat.page.scss","./src/app/chat/chat-routing.module.ts","./src/app/chat/chat.page.ts","./src/app/chat/chat.page.html"],"names":[],"mappings":"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","file":"chat-chat-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ChatPageRoutingModule } from './chat-routing.module';\n\nimport { ChatPage } from './chat.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ChatPageRoutingModule\n  ],\n  declarations: [ChatPage]\n})\nexport class ChatPageModule {}\n","export default \".productimg {\\n  border: 1px solid #c6c6c6;\\n  border-radius: 8px;\\n  height: 65px;\\n}\\n\\n.productname {\\n  font-weight: bold;\\n  color: black;\\n  font-size: 14px;\\n}\\n\\n.pricetxt {\\n  font-size: 13px;\\n  color: #c1c1c1;\\n}\\n\\n.cameraicn {\\n  color: #007be2;\\n  font-size: 30px;\\n  margin-top: 5px;\\n}\\n\\n.mediv {\\n  float: right;\\n  width: 80%;\\n  margin-bottom: 10px;\\n}\\n\\n.youdiv {\\n  float: left;\\n  width: 80%;\\n  margin-bottom: 10px;\\n}\\n\\n.profileimg {\\n  width: 40px;\\n  height: 40px;\\n  margin: auto;\\n}\\n\\n.msgdiv {\\n  width: 100%;\\n  color: black;\\n  background-color: #f0f0f0;\\n  border-radius: 8px;\\n  padding: 12px;\\n  text-align: left;\\n  font-weight: 400;\\n  font-size: 14px;\\n}\\n\\n.btndiv {\\n  color: #ffffff;\\n  font-size: 16px;\\n  width: 80%;\\n  border-radius: 5px;\\n  --border-radius: 5px;\\n  box-shadow: none !important;\\n  --box-shadow: none !important;\\n  margin: 0px;\\n  background: #007be2;\\n  --background: #007be2;\\n  text-transform: none;\\n}\\n\\n.statustxt {\\n  color: #007be2;\\n  font-weight: bold;\\n  margin: 5px 0px;\\n}\\n\\n.btn {\\n  --background: green;\\n  --border-radius: 22px;\\n  text-transform: none;\\n  --box-shadow: none;\\n  color: rgba(255, 255, 255, 0.836);\\n  font-size: 12px;\\n}\\n\\n.cancelbtn {\\n  --background: #007be2;\\n  --border-radius: 0px;\\n  text-transform: none;\\n  --box-shadow: none;\\n  color: rgba(255, 255, 255, 0.836);\\n  font-size: 12px;\\n}\\n\\n.btn1 {\\n  --background:green;\\n  --border-radius: 0px;\\n  text-transform: none;\\n  --box-shadow: none;\\n  color: rgba(255, 255, 255, 0.836);\\n  font-size: 12px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uXFwuLlxcLi5cXGNoYXQucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0kseUJBQUE7RUFDQSxrQkFBQTtFQUNBLFlBQUE7QUFDSjs7QUFDQTtFQUNJLGlCQUFBO0VBQ0EsWUFBQTtFQUNBLGVBQUE7QUFFSjs7QUFBQTtFQUNJLGVBQUE7RUFDQSxjQUFBO0FBR0o7O0FBREE7RUFDSSxjQUFBO0VBQ0EsZUFBQTtFQUNBLGVBQUE7QUFJSjs7QUFGQTtFQUNJLFlBQUE7RUFDQSxVQUFBO0VBQ0EsbUJBQUE7QUFLSjs7QUFIQTtFQUNJLFdBQUE7RUFDQSxVQUFBO0VBQ0EsbUJBQUE7QUFNSjs7QUFKQTtFQUNJLFdBQUE7RUFDQSxZQUFBO0VBQ0EsWUFBQTtBQU9KOztBQUxBO0VBQ0ksV0FBQTtFQUVBLFlBQUE7RUFDQSx5QkFBQTtFQUNBLGtCQUFBO0VBQ0EsYUFBQTtFQUNBLGdCQUFBO0VBQ0EsZ0JBQUE7RUFDQSxlQUFBO0FBT0o7O0FBTEE7RUFDSSxjQUFBO0VBQ0EsZUFBQTtFQUNBLFVBQUE7RUFDQSxrQkFBQTtFQUNBLG9CQUFBO0VBQ0EsMkJBQUE7RUFDQSw2QkFBQTtFQUNBLFdBQUE7RUFDQSxtQkFBQTtFQUNBLHFCQUFBO0VBQ0Esb0JBQUE7QUFRSjs7QUFOQTtFQUNJLGNBQUE7RUFDQSxpQkFBQTtFQUNBLGVBQUE7QUFTSjs7QUFQQTtFQUNJLG1CQUFBO0VBQ0EscUJBQUE7RUFDQSxvQkFBQTtFQUNBLGtCQUFBO0VBQ0EsaUNBQUE7RUFDQSxlQUFBO0FBVUo7O0FBUkE7RUFDSSxxQkFBQTtFQUNBLG9CQUFBO0VBQ0Esb0JBQUE7RUFDQSxrQkFBQTtFQUNBLGlDQUFBO0VBQ0EsZUFBQTtBQVdKOztBQVRBO0VBQ0ksa0JBQUE7RUFDQSxvQkFBQTtFQUNBLG9CQUFBO0VBQ0Esa0JBQUE7RUFDQSxpQ0FBQTtFQUNBLGVBQUE7QUFZSiIsImZpbGUiOiJjaGF0LnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5wcm9kdWN0aW1ne1xyXG4gICAgYm9yZGVyOjFweCBzb2xpZCByZ2IoMTk4LCAxOTgsIDE5OCk7XHJcbiAgICBib3JkZXItcmFkaXVzOiA4cHg7XHJcbiAgICBoZWlnaHQ6IDY1cHg7XHJcbn1cclxuLnByb2R1Y3RuYW1le1xyXG4gICAgZm9udC13ZWlnaHQ6IGJvbGQ7XHJcbiAgICBjb2xvcjogYmxhY2s7XHJcbiAgICBmb250LXNpemU6IDE0cHg7XHJcbn1cclxuLnByaWNldHh0e1xyXG4gICAgZm9udC1zaXplOiAxM3B4O1xyXG4gICAgY29sb3I6cmdiKDE5MywgMTkzLCAxOTMpO1xyXG59XHJcbi5jYW1lcmFpY257XHJcbiAgICBjb2xvcjojMDA3YmUyO1xyXG4gICAgZm9udC1zaXplOjMwcHg7XHJcbiAgICBtYXJnaW4tdG9wOjVweDtcclxufVxyXG4ubWVkaXZ7XHJcbiAgICBmbG9hdDogcmlnaHQ7XHJcbiAgICB3aWR0aDogODAlO1xyXG4gICAgbWFyZ2luLWJvdHRvbTogMTBweDtcclxufVxyXG4ueW91ZGl2e1xyXG4gICAgZmxvYXQ6IGxlZnQ7XHJcbiAgICB3aWR0aDogODAlO1xyXG4gICAgbWFyZ2luLWJvdHRvbTogMTBweDtcclxufVxyXG4ucHJvZmlsZWltZ3tcclxuICAgIHdpZHRoOiA0MHB4O1xyXG4gICAgaGVpZ2h0OiA0MHB4O1xyXG4gICAgbWFyZ2luOmF1dG87XHJcbn1cclxuLm1zZ2RpdntcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgLy8gaGVpZ2h0OiA0MHB4O1xyXG4gICAgY29sb3I6YmxhY2s7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjBmMGYwO1xyXG4gICAgYm9yZGVyLXJhZGl1czogOHB4O1xyXG4gICAgcGFkZGluZzoxMnB4O1xyXG4gICAgdGV4dC1hbGlnbjogbGVmdDtcclxuICAgIGZvbnQtd2VpZ2h0OiA0MDA7XHJcbiAgICBmb250LXNpemU6IDE0cHg7XHJcbn1cclxuLmJ0bmRpdntcclxuICAgIGNvbG9yOiAjZmZmZmZmO1xyXG4gICAgZm9udC1zaXplOiAxNnB4O1xyXG4gICAgd2lkdGg6IDgwJTtcclxuICAgIGJvcmRlci1yYWRpdXM6IDVweDtcclxuICAgIC0tYm9yZGVyLXJhZGl1czogNXB4O1xyXG4gICAgYm94LXNoYWRvdzogbm9uZSAhaW1wb3J0YW50O1xyXG4gICAgLS1ib3gtc2hhZG93OiBub25lICFpbXBvcnRhbnQ7XHJcbiAgICBtYXJnaW46IDBweDtcclxuICAgIGJhY2tncm91bmQ6ICMwMDdiZTI7XHJcbiAgICAtLWJhY2tncm91bmQ6ICMwMDdiZTI7XHJcbiAgICB0ZXh0LXRyYW5zZm9ybTogbm9uZTtcclxufVxyXG4uc3RhdHVzdHh0e1xyXG4gICAgY29sb3I6IzAwN2JlMjtcclxuICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xyXG4gICAgbWFyZ2luOiA1cHggMHB4O1xyXG59XHJcbi5idG4ge1xyXG4gICAgLS1iYWNrZ3JvdW5kOiBncmVlbjtcclxuICAgIC0tYm9yZGVyLXJhZGl1czogMjJweDtcclxuICAgIHRleHQtdHJhbnNmb3JtOiBub25lO1xyXG4gICAgLS1ib3gtc2hhZG93OiBub25lO1xyXG4gICAgY29sb3I6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC44MzYpO1xyXG4gICAgZm9udC1zaXplOiAxMnB4O1xyXG59XHJcbi5jYW5jZWxidG4ge1xyXG4gICAgLS1iYWNrZ3JvdW5kOiAjMDA3YmUyO1xyXG4gICAgLS1ib3JkZXItcmFkaXVzOiAwcHg7XHJcbiAgICB0ZXh0LXRyYW5zZm9ybTogbm9uZTtcclxuICAgIC0tYm94LXNoYWRvdzogbm9uZTtcclxuICAgIGNvbG9yOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuODM2KTtcclxuICAgIGZvbnQtc2l6ZTogMTJweDtcclxufVxyXG4uYnRuMSB7XHJcbiAgICAtLWJhY2tncm91bmQ6Z3JlZW47XHJcbiAgICAtLWJvcmRlci1yYWRpdXM6IDBweDtcclxuICAgIHRleHQtdHJhbnNmb3JtOiBub25lO1xyXG4gICAgLS1ib3gtc2hhZG93OiBub25lO1xyXG4gICAgY29sb3I6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC44MzYpO1xyXG4gICAgZm9udC1zaXplOiAxMnB4O1xyXG59Il19 */\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { ChatPage } from './chat.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ChatPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ChatPageRoutingModule {}\n","import { Component, OnInit, ViewChild } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { IonContent, ModalController, NavController } from '@ionic/angular';\nimport firebase from 'firebase';\nimport { AlertService } from '../alert.service';\nimport { ConfigService } from '../config.service';\nimport { MakeofferPage } from '../makeoffer/makeoffer.page';\nimport { ServiceService } from '../service.service';\n\nexport const snapshotToArray = snapshot => {\n  let returnArr = [];\n  snapshot.forEach(childSnapshot => {\n    let item = childSnapshot.val();\n    item.key = childSnapshot.key;\n    returnArr.push(item);\n  });\n  return returnArr;\n};\nexport const ConversationToArray = snapshot => {\n  let returnArr = [];\n  snapshot.forEach(childSnapshot => {\n    let item = childSnapshot.val();\n    returnArr.push(item);\n  });\n  return returnArr;\n};\n\n@Component({\n  selector: 'app-chat',\n  templateUrl: './chat.page.html',\n  styleUrls: ['./chat.page.scss'],\n})\nexport class ChatPage implements OnInit {\n\n  @ViewChild(IonContent) content: IonContent;\n  offStatus: boolean = false;\n\n  SigninData: any;\n  UserId: any;\n  userName: any;\n  Chat_Data = { nickname: '', message: '', id: '' }\n  UserChat: any;\n  Userprofile: any;\n  ServiceID: any;\n  SeviceName: any;\n  ServiceProfile: any;\n  ConversationID: any;\n  ChatCreateID: string;\n  chatIDCheck: string;\n  ConversID: string;\n  ChatsID: string;\n  OldChatId: any;\n  productdetail: any;\n  productimage: any;\n  productname: any;\n  productprice:any;\n  product_id: any;\n  offerdata: any;\n  text: string;\n\n  constructor(public navctrl: NavController,\n    private config: ConfigService,\n    private service: ServiceService,\n    private alert:AlertService,\n    public router: ActivatedRoute,\n    public modalctrl:ModalController) {\n  }\n\n  ngOnInit() {\n\n    this.userName = 'K29solutions'\n    this.Chat_Data.nickname = (this.userName) as string;\n  }\n\n  back() {\n    this.navctrl.pop()\n  }\n\n  async makeoffer(){\n    if (this.UserChat) {\n      console.log('open')\n      for (var i = 0; i < this.UserChat.length; i++) {\n        const found = this.UserChat.some(el => el.status == '0' && el.list_id == this.product_id);\n        console.log(found)\n        if (found == true) {\n          this.alert.showAlert(\"\", 'cancel previous offer before making new offer',\"\")\n          break\n        } else {\n          console.log('entrer open modal')\n          const modal = await this.modalctrl.create({\n            component: MakeofferPage,\n            cssClass: \"backmodal\",\n            componentProps: { 'name': this.productname, 'price': this.productprice, 'user_id': this.UserId, 'list_id': this.product_id }\n          })\n          modal.onDidDismiss().then((data) => {\n            console.log(data)\n            this.offerdata = data.data\n            // this.date = data.data.date\n            this.Chat_Data.message = this.productname\n            this.text = \"Offer\"\n            \n          })\n          modal.present()\n          break\n        }\n      }\n    } else {\n      console.log('open modal')\n      const modal = await this.modalctrl.create({\n        component: MakeofferPage,\n        cssClass: \"backmodal\",\n        componentProps: { 'name': this.productname, 'price': this.productprice, 'user_id': this.UserId, 'list_id': this.product_id }\n      })\n      modal.onDidDismiss().then((data) => {\n        console.log(data)\n        this.offerdata = data.data\n        // this.date = data.data.date\n        this.Chat_Data.message = this.productname\n        this.text = \"Offer\"\n        this.Conversa(this.text)\n      })\n      modal.present()\n    }\n   \n  }\n\n  getConver() {\n    var starCountRef = firebase.database().ref('Conversation/' + this.UserId + '_' + this.ServiceID);\n    starCountRef.on('value', Conver => {\n      console.log(Conver.val())\n      if (Conver.val() != null) {\n        this.ConversationID = ConversationToArray(Conver);\n        console.log(this.ConversationID)\n        this.CheckLoop()\n      } else {\n        this.getotherConver()\n      }\n    })\n  }\n\n  getotherConver() {\n    var starCountRef = firebase.database().ref('Conversation/' + this.ServiceID + '_' + this.UserId);\n    starCountRef.on('value', Conver => {\n      console.log(Conver.val())\n      if (Conver.val() != null) {\n        this.ConversationID = ConversationToArray(Conver);\n        console.log(this.ConversationID)\n        this.CheckLoop()\n      } else {\n        // this.getConver()\n      }\n    })\n  }\n\n  CheckLoop() {\n    this.ChatCreateID = ''\n    this.chatIDCheck = ''\n    var MyUserID = this.UserId\n    var NewUesrID = this.ServiceID\n    this.ChatCreateID = MyUserID + '_' + NewUesrID\n    this.chatIDCheck = NewUesrID + '_' + MyUserID\n    console.log('1 =>', this.ChatCreateID)\n    console.log('2 =>', this.chatIDCheck)\n\n    // if (this.ChatCreateID == this.chatIDCheck) {\n    //   // this.ServiceID = this.User_con_ID\n    //   this.CheckLoop()\n    // } else {\n    console.log(this.ConversationID)\n    for (var i = 0; i < this.ConversationID.length; i++) {\n      console.log(this.ConversationID[i].ConverID)\n      if (this.ConversationID[i].ConverID == this.ChatCreateID) {\n        console.log(this.ChatCreateID + \">> is available 1\")\n        var N_E_W = this.ChatCreateID\n        this.ChatsID = ''\n        this.GetOldChat(N_E_W)\n        break;\n      } else if (this.ConversationID[i].ConverID == this.chatIDCheck) {\n        console.log(this.chatIDCheck + \">> is available 2\")\n        var T_H_I_S = this.chatIDCheck\n        this.ChatsID = ''\n        this.GetOldChat(T_H_I_S)\n        break;\n      } else {\n        if (i == this.ConversationID.length - 1) {\n          console.log(\" no conversation match, create new\")\n        }\n      }\n    }\n    // }\n  }\n\n  GetOldChat(Chat_i) {\n    console.log('Old =>', Chat_i)\n    this.OldChatId = Chat_i\n\n    firebase.database().ref('Chats/' + Chat_i + '/chat').on('value', resp => {\n      this.UserChat = [];\n      this.UserChat = snapshotToArray(resp);\n      console.log(this.UserChat)\n      setTimeout(() => {\n        if (this.offStatus === false) {\n          this.content.scrollToBottom(300);\n        }\n      }, 1000);\n    });\n  }\n\n  msgvalidate() {\n    if (!this.Chat_Data.message) {\n      this.alert.showAlert(\"Error\", \"please Enter Message\",\"\")\n      return false\n    }\n    return true\n  }\n\n  Conversa(type) {\n    if (this.msgvalidate()) {\n      console.log(this.OldChatId)\n      console.log(this.ConversationID)\n      // if (this.ConversationID) {\n      //   for (var i = 0; i < this.ConversationID.length; i++) {\n      //     if (this.OldChatId == this.ConversationID[i].ConverID) {\n      //       this.showstatus = this.ConversationID[i].usrstatus\n      //       this.block_user = this.ConversationID[i].block_user\n      //       this.chat_user = this.ConversationID[i].chat_user\n      //       this.send_user = this.ConversationID[i].UsrID\n      //       this.receive_user = this.ConversationID[i].ServicesID\n      //       this.sender_counter = this.ConversationID[i].sender_counter\n      //       this.receiver_counter = this.ConversationID[i].receiver_counter\n      //       var otherprofile = this.ConversationID[i].ServiceProfile\n      //       var profile = this.ConversationID[i].Usrprofile\n      //     }\n      //   }\n      // }\n      console.log(this.OldChatId)\n      if (this.OldChatId) {\n        this.ChatData(type)\n        const found = this.ConversationID.some(el => el.ProductID === this.product_id);\n        if (!found) {\n          console.log('push')\n          var MyUserID = this.UserId\n          var NewUesrID = this.ServiceID\n          this.ChatCreateID = MyUserID + '_' + NewUesrID\n          this.chatIDCheck = NewUesrID + '_' + MyUserID\n\n          console.log('3 =>', this.ChatCreateID)\n          console.log('3 =>', this.chatIDCheck)\n          if (this.OldChatId == this.ChatCreateID) {\n            firebase.database().ref('Conversation/' + this.ChatCreateID + '/' + this.product_id).set({\n              ConverID: this.ChatCreateID,\n              ServicesID: this.ServiceID,\n              ServicesName: this.SeviceName,\n              UsrID: this.UserId,\n              UsrName: this.userName,\n              Usrprofile: this.Userprofile,\n              ServiceProfile: this.ServiceProfile,\n              ProductID: this.product_id,\n              ProductImage: this.productimage,\n              ProductName: this.productname,\n              ProductPrice: this.productprice,\n              lastmsg: this.Chat_Data.message,\n              sender_counter: 0,\n              receiver_counter: 0,\n              chat_user: this.ServiceID,\n              block_user: '',\n              ServicesDate: Date()\n            });\n          }\n          if (this.OldChatId == this.chatIDCheck) {\n            firebase.database().ref('Conversation/' + this.chatIDCheck + '/' + this.product_id).set({\n              ConverID: this.chatIDCheck,\n              ServicesID: this.ServiceID,\n              ServicesName: this.SeviceName,\n              UsrID: this.UserId,\n              UsrName: this.userName,\n              Usrprofile: this.Userprofile,\n              ServiceProfile: this.ServiceProfile,\n              ProductID: this.product_id,\n              ProductImage: this.productimage,\n              ProductName: this.productname,\n              ProductPrice: this.productprice,\n              lastmsg: this.Chat_Data.message,\n              sender_counter: 0,\n              receiver_counter: 0,\n              chat_user: this.ServiceID,\n              block_user: '',\n              ServicesDate: Date()\n            });\n          }\n\n        } else {\n          console.log('dont push')\n        }\n      } else {\n        var MyUserID = this.UserId\n        var NewUesrID = this.ServiceID\n        this.ConversID = MyUserID + '_' + NewUesrID\n        console.log('3 =>', this.ConversID)\n        console.log('3 =>', this.SeviceName)\n        firebase.database().ref('Conversation/' + this.ConversID + '/' + this.product_id).set({\n          ConverID: this.ConversID,\n          ServicesID: this.ServiceID,\n          ServicesName: this.SeviceName,\n          UsrID: this.UserId,\n          UsrName: this.userName,\n          Usrprofile: this.Userprofile,\n          ServiceProfile: this.ServiceProfile,\n          ProductID: this.product_id,\n          ProductImage: this.productimage,\n          ProductName: this.productname,\n          ProductPrice: this.productprice,\n          lastmsg: this.Chat_Data.message,\n          sender_counter: 0,\n          receiver_counter: 0,\n          chat_user: this.ServiceID,\n          block_user: '',\n          ServicesDate: Date()\n        });\n        this.ChatsID = ''\n        this.ChatData(type)\n      }\n\n      // }\n    }\n  }\n\n  ChatData(type) {\n    if (this.OldChatId) {\n      this.ChatsID = this.OldChatId\n      console.log('Old =>', this.ChatsID)\n    } else if (this.ConversID) {\n      this.ChatsID = this.ConversID\n      console.log('3 =>', this.ChatsID)\n    }\n\n    console.log(this.ChatsID)\n    let newData = firebase.database().ref('Chats/' + this.ChatsID + '/chat').push();\n    // console.log('offerdata =>', this.offerdata)\n    console.log('message =>', this.Chat_Data.message)\n    console.log('type =>', type)\n    if (type == 'Offer') {\n      if (this.offerdata) {\n        newData.set({\n          user: this.Chat_Data.nickname,\n          message: this.Chat_Data.message,\n          id: this.Chat_Data.id,\n          type: type,\n          list_id: this.product_id,\n          offer: this.offerdata,\n          status: '0',\n          sendDate: Date()\n        });\n        // if (this.UserId != this.receive_user) {\n        //   this.receiver_counter = this.receiver_counter + 1\n        // } else {\n        //   this.sender_counter = this.sender_counter + 1\n        // }\n        // firebase.database().ref('Conversation/' + this.OldChatId + '/' + this.product_id).update({ lastmsg: this.Chat_Data.message, ServicesDate: date, sender_counter: this.sender_counter, receiver_counter: this.receiver_counter });\n        if (type != 'Offer') {\n          this.sendnotification()\n        }\n        this.Chat_Data.message = '';\n      }\n    } else {\n      newData.set({\n        user: this.Chat_Data.nickname,\n        message: this.Chat_Data.message,\n        id: this.Chat_Data.id,\n        list_id:this.product_id,\n        type: type,\n        sendDate: Date()\n      });\n      // if (this.UserId != this.receive_user) {\n      //   this.receiver_counter = this.receiver_counter + 1\n      // } else {\n      //   this.sender_counter = this.sender_counter + 1\n      // }\n      // if (type == '2') {\n      //   firebase.database().ref('Conversation/' + this.OldChatId + '/' + this.product_id).update({ lastmsg: 'photo', ServicesDate: date, sender_counter: this.sender_counter, receiver_counter: this.receiver_counter });\n      // } else {\n      //   firebase.database().ref('Conversation/' + this.OldChatId + '/' + this.product_id).update({ lastmsg: this.Chat_Data.message, ServicesDate: date, sender_counter: this.sender_counter, receiver_counter: this.receiver_counter });\n      // }\n      if (type != 'Offer') {\n        this.sendnotification()\n      }\n      this.Chat_Data.message = '';\n    }\n\n  }\n\n  sendnotification() {\n    var params = {\n      user_id: this.ServiceID,\n      // sender_id: this.UserId,\n      // list_id: this.product_id,\n      title: this.userName,\n      message: this.Chat_Data.message\n    }\n    console.log(params)\n    this.service.SendNotification(params)\n      .then((results) => this.handleNotification(results))\n  }\n\n  handleNotification(results) {\n    console.log(results)\n  }\n\n  action(action, id, key) {\n    this.alert.showLoader()\n    console.log(key)\n    var params = {\n      offer_id: id,\n      status : action\n    }\n    console.log(params)\n    this.service.Offerstatus(params)\n      .then((results) => this.handleAction(action, results, key))\n  }\n\n  handleAction(action, results, key) {\n    console.log(results)\n    this.alert.dissmissLoader()\n    console.log(this.ChatsID)\n    if (results.ResponseCode == 1) {\n      if (this.OldChatId) {\n        this.ChatsID = this.OldChatId\n        console.log('Old =>', this.ChatsID)\n      } else if (this.ConversID) {\n        this.ChatsID = this.ConversID\n        console.log('3 =>', this.ChatsID)\n      }\n      if (this.Chat_Data.id === this.UserId && action == '3') {\n        this.alert.showToast(\"you have cancelled the offer\")\n      }\n      let newData = firebase.database().ref('/Chats/' + this.ChatsID + '/chat' + '/' + key).update({ status: action });\n      console.log(newData)\n    }\n  }\n\n\n}\n","export default \"<ion-header>\\n  <ion-toolbar>\\n    <div class=\\\"ht_40\\\"></div>\\n    <ion-row>\\n      <ion-col size=\\\"1\\\" style=\\\"text-align: center;font-size: 23px;\\\" (click)=\\\"back()\\\">\\n        <ion-icon name=\\\"arrow-back-outline\\\"></ion-icon>\\n      </ion-col>\\n      <ion-col size=\\\"2\\\">\\n        <ion-avatar style=\\\"width: 40px;height: 40px;margin-top:-10px;\\\">\\n          <img  src=\\\"assets/image/profilepic.png\\\">\\n        </ion-avatar>\\n      </ion-col>\\n      <ion-col size=\\\"9\\\">\\n        <div>BMW</div>\\n      </ion-col>\\n    </ion-row>\\n    <div class=\\\"ht_20\\\"></div>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <div class=\\\"vertical-align-top-content\\\">\\n    <div class=\\\"ht_20\\\"></div>\\n    <ion-row>\\n      <ion-col size=\\\"3\\\">\\n        <div class=\\\"productimg\\\">\\n          <img src=\\\"assets/image/helmet.jpg\\\" style=\\\"border-radius: 8px;height: 65px;width:100%;\\\">\\n        </div>\\n      </ion-col>\\n      <ion-col size=\\\"9\\\">\\n        <div class=\\\"ht_10\\\"></div>\\n        <div class=\\\"productname\\\">Helmet</div>\\n        <ion-row>\\n          <ion-col>\\n            <div class=\\\"ht_5\\\"></div>\\n            <div class=\\\"pricetxt\\\">$180</div>\\n          </ion-col>\\n          <ion-col>\\n            <ion-button class=\\\"btndiv\\\" (click)=\\\"makeoffer()\\\">Make Offer</ion-button>\\n          </ion-col>\\n        </ion-row>\\n      </ion-col>\\n    </ion-row>\\n    <div style=\\\"border-bottom: 1px solid rgb(198, 198, 198);height: 10px;\\\"></div>\\n    <div class=\\\"ht_10\\\"></div>\\n    <div >\\n      <div  class=\\\"youdiv\\\">\\n        <ion-row>\\n          <ion-col size=\\\"9.5\\\">\\n            \\n            <div class=\\\"msgdiv\\\">\\n              <div><b>Made An Offer</b></div>\\n              <div>Chat message </div>\\n              <div>Price : <b>$100</b></div>\\n              <div >\\n                <ion-row>\\n                  <ion-col class=\\\"ion-no-padding\\\">\\n                    <ion-button class=\\\"btndiv\\\" \\n                      (click)=\\\"action()\\\">Accept</ion-button>\\n                  </ion-col>\\n                  <ion-col class=\\\"ion-no-padding\\\">\\n                    <ion-button class=\\\"btndiv\\\" \\n                      (click)=\\\"action()\\\">Reject</ion-button>\\n                  </ion-col>\\n                  <ion-col class=\\\"ion-no-padding\\\">\\n                  </ion-col>\\n                </ion-row>\\n              </div>\\n            </div>\\n          </ion-col>\\n          <ion-col size=\\\"2.5\\\">\\n            <ion-avatar class=\\\"profileimg\\\">\\n              <img src=\\\"assets/image/profilepic.png\\\">\\n            </ion-avatar>\\n          </ion-col>\\n        </ion-row>\\n      </div>\\n\\n      <div  class=\\\"mediv\\\">\\n        <ion-row>\\n          <ion-col size=\\\"2.5\\\">\\n            <ion-avatar class=\\\"profileimg\\\">\\n              <img src=\\\"assets/image/profilepic.png\\\">\\n            </ion-avatar>\\n          </ion-col>\\n          <ion-col size=\\\"9.5\\\">\\n            <div class=\\\"msgdiv\\\">Chat message</div>\\n            \\n            <div class=\\\"msgdiv\\\">\\n              <div><b>Made An Offer</b></div>\\n              <div>Chat.message</div>\\n              <div>Price : <b>$8555</b></div>\\n              <div class=\\\"statustxt\\\">Pending</div>\\n            </div>\\n          </ion-col>\\n        </ion-row>\\n      </div>\\n    </div>\\n  </div>\\n\\n</ion-content>\\n\\n<ion-footer class=\\\"ion-no-border\\\">\\n  <ion-row class=\\\"row_90\\\">\\n    <ion-col size=\\\"10\\\">\\n      <ion-row>\\n        <ion-col size=\\\"10\\\">\\n          <ion-input class=\\\"inputdiv\\\" placeholder=\\\"Type Here...\\\" [(ngModel)]=\\\"Chat_Data.message\\\"></ion-input>\\n        </ion-col>\\n        <ion-col size=\\\"2\\\">\\n          <ion-icon name=\\\"navigate-outline\\\" class=\\\"cameraicn\\\" ></ion-icon>\\n        </ion-col>\\n      </ion-row>\\n    </ion-col>\\n    <ion-col size=\\\"2\\\">\\n      <ion-icon name=\\\"camera-outline\\\" class=\\\"cameraicn\\\"></ion-icon>\\n    </ion-col>\\n  </ion-row>\\n</ion-footer>\";"],"sourceRoot":"webpack:///"}